/**
 * angular-strap
 * @version v2.1.2 - 2014-10-20
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!0};this.$get=["$tooltip",function(t){function n(n,o){var a=angular.extend({},e,o),r=t(n,a);return a.content&&(r.$scope.content=a.content),r}return n}]}).directive("bsPopover",["$document","$window","$sce","$popover",function(e,t,n,o){var a=t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(t,r,l){var i={scope:t};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose"],function(e){angular.isDefined(l[e])&&(i[e]=l[e])}),angular.forEach(["title","content"],function(e){l[e]&&l.$observe(e,function(o,r){t[e]=n.trustAsHtml(o),angular.isDefined(r)&&a(function(){c&&c.$applyPlacement()})})}),l.bsPopover&&t.$watch(l.bsPopover,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e,angular.isDefined(n)&&a(function(){c&&c.$applyPlacement()})},!0),l.bsShow&&t.$watch(l.bsShow,function(e){c&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),e===!0?c.show():c.hide())});var c=o(r,i);i.autoClose&&angular.element(e.body).bind("click",function(e){var t=document.querySelectorAll("*[bs-popover]");if(t)for(var n=0;n<t.length;n++){var o,a,r=t[n],l=angular.element(r);l.next()&&(o=l.next()[0].querySelector(".popover-content"),a=l.next()[0].querySelector(".arrow")),r!=e.target&&e.target!=o&&e.target!=a&&l.next().hasClass("popover")&&(l.next().remove(),l.attr("bs-show",!1))}}),t.$on("$destroy",function(){i.autoClose&&angular.element(e.body).unbind("click"),c&&c.destroy(),i=null,c=null})}}}]);
//# sourceMappingURL=popover.min.js.map