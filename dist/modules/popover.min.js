/**
 * angular-strap
 * @version v2.1.2 - 2014-10-20
 * @link http://mgcrea.github.io/angular-strap
 * @author Olivier Louvignes (olivier@mg-crea.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var e=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",template:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!0};this.$get=["$tooltip",function(t){function n(n,o){var a=angular.extend({},e,o),r=t(n,a);return a.content&&(r.$scope.content=a.content),r}return n}]}).directive("bsPopover",["$document","$window","$sce","$popover",function(e,t,n,o){var a=t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(t,r,i){var l={scope:t};angular.forEach(["template","contentTemplate","placement","container","target","delay","trigger","keyboard","html","animation","customClass","autoClose"],function(e){angular.isDefined(i[e])&&(l[e]=i[e])}),angular.forEach(["title","content"],function(e){i[e]&&i.$observe(e,function(o,r){t[e]=n.trustAsHtml(o),angular.isDefined(r)&&a(function(){c&&c.$applyPlacement()})})}),i.bsPopover&&t.$watch(i.bsPopover,function(e,n){angular.isObject(e)?angular.extend(t,e):t.content=e,angular.isDefined(n)&&a(function(){c&&c.$applyPlacement()})},!0),i.bsShow&&t.$watch(i.bsShow,function(e){c&&angular.isDefined(e)&&(angular.isString(e)&&(e=!!e.match(/true|,?(popover),?/i)),e===!0?c.show():c.hide())});var c=o(r,l);l.autoClose&&(t.$on("tooltip.show",function(){angular.element(e[0].body).bind("click",function(e){var t=[r];if(t)for(var n=0;n<t.length;n++){var o=t[n],a=angular.element(o),i=a.next();if(i.length&&i.hasClass("popover")){var l=!1;if(i==e.target)l=!0;else{var c,u=i.find("*");if(u.length>0)for(var n=0,s=u.length;s>n;n++)if(c=u[n],c==e.target){l=!0;break}}l||a.scope().$hide()}}})}),t.$on("tooltip.hide.before",function(){l.autoClose&&angular.element(e[0].body).unbind("click")})),t.$hide=function(){c.hide()},t.$on("$destroy",function(){l.autoClose&&angular.element(e.body).unbind("click"),c&&c.destroy(),l=null,c=null})}}}]);
//# sourceMappingURL=popover.min.js.map